{"version":3,"sources":["components/OrderItem/index.js","components/OrderList/index.js","components/header/index.js","components/App/index.js","index.js"],"names":["OrderItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handerOrderEditArea","setState","editing","handerCommentChange","e","comment","target","value","handerClickStars","stars","handleCancelComment","data","handleSubmitCommet","id","_this$state","state","onSubmit","alert","ifCommented","description","_this$props$data","shop","product","price","picture","_react_16_9_0_react_default","a","createElement","_react_16_9_0_react","className","src","alt","onClick","renderEditArea","onChange","renderStars","_this2","map","item","index","lightClass","key","bind","Component","OrderList","handleSubmit","newData","_objectSpread","fetch","then","res","ok","json","_this3","components_OrderItem","Header","App","header","components_OrderList","console","log","JSON","stringify","name","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.a5d1c813.chunk.js","sourcesContent":["import React, { Component,Fragment } from \"react\";\nimport \"./style.css\";\n\n\nclass OrderItem extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tediting:false,\n\t\t\tstars: props.data.stars || 0,\n\t\t\tcomment: props.data.comment || \"\",\n\t\t\tifCommented:false,\n\t\t\tdescription: \"\"\n\t\t}\n\t}\n\trender(){\n\t\tconst { shop, product, price, picture, ifCommented } = this.props.data;\n\t\treturn <Fragment>\n\t\t<div className=\"orderItem\">\n\t\t<div className=\"orderItem__picContainer\">\n\t\t\t<img className=\"orderItem__pic\" src={picture} alt=\"\"/>\n\t\t</div>{/*图片容器*/}\n\n\t\t<div className=\"orderItem__content\">\n\t\t\t<div className=\"orderItem__product\">{product}</div>{/*产品名称*/}\n\t\t\t<div className=\"orderItem__shop\">{shop}</div>{/*店铺名称*/}\n\t\t\t<div className=\"orderItem__detail\">\n\t\t\t\t<div className=\"orderItem__price\">{price}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\tifCommented?(<button className=\"orderItem__btn orderItem__btn--grey\">已评价</button>):\n\t\t\t\t\t\t(<button className=\"orderItem__btn orderItem__btn--red\" onClick={this.handerOrderEditArea}>评价</button>)}\n\t\t\t\t</div>\n\t\t\t</div>{/*产品细节容器*/}\n\t\t</div>{/*产品信息容器*/}\n\t\t\n\t\t</div>\n\t\t{this.state.editing ? this.renderEditArea() : null}\n\t\t</Fragment>\n\t}\n\trenderEditArea(){\n\t\treturn (\n\t\t\t<div className=\"OrderItem__commentContainer\">\n\t\t\t\t<textarea className=\"OrderItem__comment\" onChange={this.handerCommentChange} value={this.state.comment}/>\n\t\t\t\t{this.renderStars()}\n\t\t\t\t<p>{ this.state.description }</p>\n\t\t\t\t<button className=\"orderItem__submit\" onClick={this.handleSubmitCommet}>提交</button>\n\t\t\t\t<button className=\"orderItem__cancel\" onClick={this.handleCancelComment}>取消</button>\n\t\t\t</div>\n\t\t\t)\n\t}\n\trenderStars(){\n\t\tconst { stars } =this.state;\n\t\treturn (\n\t\t\t<div>{\n\t\t\t\t[1,2,3,4,5].map( (item,index)=>{\n\t\t\t\t\tconst lightClass = stars >= item ? \"orderItem__star--light\":\"\";\n\t\t\t\t\treturn (<span key={index} onClick={this.handerClickStars.bind(this,item)} className={\"orderItem__star \"+lightClass}>★</span>);\n\t\t\t})\n\t\t}\n\t\t</div>\n\t\t)\n\t}\n\n\thanderOrderEditArea = ()=>{\n\t\tthis.setState({\n\t\t\tediting: true,\n\t\t});\n\t}\n\n\thanderCommentChange = (e)=>{\n\t\tthis.setState({\n\t\t\tcomment: e.target.value\n\t\t})\n\t}\n\thanderClickStars = (stars)=>{\n\t\tthis.setState({\n\t\t\tstars: stars\n\t\t});\n\t}\n\n\thandleCancelComment = () => {\n\t\tthis.setState({\n\t\t\tediting:false,\n\t\t\tstars: this.props.data.stars || 0,\n\t\t\tcomment: this.props.data.comment || \"\"\n\t\t})\n\t}\n\thandleSubmitCommet = () => {\n\t\tconst { id } = this.props.data;\n\t\tconst { comment, stars } = this.state;\n\t\tif(comment){\n\t\t\tif(stars){\n\t\t\t\tthis.setState({\n\t\t\t\t\tediting: false,\n\t\t\t\t});\n\t\t\t\tthis.props.onSubmit(id, comment, stars);\n\t\t\t}else{\n\t\t\t\talert(\"您还没给星星呢！\")\n\t\t\t}\n\t\t}else{\n\t\t\talert(\"请输入评价内容\")\n\t\t}\n\t}\n}\n\nexport default OrderItem;","import React, { Component } from \"react\";\nimport OrderItem from \"../OrderItem\";\n\n\nclass OrderList extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata: []\n\t\t};\n\t}\n\tcomponentDidMount(){//组件挂载完毕之后执行该函数，把传进来的数据赋予给this.state.data\n\t\tfetch(\"/mock/orders.json\").then(res => {\n\t\t\tif(res.ok) {\n\t\t\t\tres.json().then(data => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdata\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tthis.state.data.map((item) => {\n\t\t\t\t\t\treturn <OrderItem key={item.id} data={item} onSubmit={this.handleSubmit}/>\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>);\n\t}\n\thandleSubmit = (id, comment, stars)=>{\n\t\t//这一段代码应该在把评论信息成功保存到服务器之后再执行：\n\t\t//fetch(\"/saveComment\").then( ()=>{} );相当于在\"saveComment\"成功之后，在回调函数中去修改\n\n\t\tconst newData = this.state.data.map(item => {//遍历state中的每一项数据\n\t\t\treturn item.id === id ? {//判断遍历到的这一项是不是我们要找的项，如果是，对订单数据进行修改；不是就还是显示原来的item项\n\t\t\t\t...item, comment, stars, ifCommented:true,//用扩展运算符返回一个新对象，再将新对象中需要修改的属性comment、stars、ifComment修改掉\n\t\t\t}: item;//对于不是目标项的订单数据，返回原来的数据就可以了。\n\t\t});//handleSubmit方法获取到新的订单列表数据\n\t\tthis.setState({\n\t\t\tdata: newData\n\t\t})\n\t}\n}\n\nexport default OrderList;","import React, { Component } from \"react\";\nimport \"./style.css\";\n\nclass Header extends Component{\n\trender(){\n\t\treturn <header className=\"header\">订单列表</header>\n\t}\n}\n\nexport default Header;","import React,{ Component } from \"react\";\nimport OrderList from \"../OrderList\";\nimport Header from \"../header\"\n\nclass App extends Component{\n\trender(){\n\t\treturn <div>\n\t\t\t<Header />\n\t\t\t<OrderList />\n\t\t</div>\n\t}\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nconsole.log(JSON.stringify({name: \"xiamo\"}));//把一个对象序列化成一个json字符串\nReactDOM.render(<div><App /></div>, document.getElementById('root'));\n"],"sourceRoot":""}